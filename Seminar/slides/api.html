<style>
	.red{
		color:red
	}
	body blockquote{
		background-color: #f5f2f0;
		padding: 10px;
		/*margin: 2em 2em;*/
		font-family: Consolas, Monaco, 'Andale Mono', monospace;
		-moz-border-radius: 1em;
		-webkit-border-radius: 1em;
		border-radius: 1em;
		font-family: Consolas, Monaco, 'Andale Mono', monospace;
		border-width: 0.3em;
		border-color: #e0dfcc;
		border-style: solid;
		text-shadow: 0 1px white;
		overflow: auto;
	}
	.half{
		width:50%;
		float:left;
	}
	.weak{
		color:gray;
	}
</style>
<div class="slide-layout-title">
	<h2 class="center">接口风格: REST vs GraphQL</h2>
	<br />
	<br />
	<br />
	<br />
	<h3 class="center">张海燕</h3>
	<h3 class="center">10-20-2017</h3>
</div>
<hr>
<div>
	<h2>What is REST?</h2>
	<br />
	<p>在前后端分离的 Web 应用架构中,前端专注于页面,同时与后端进行数据交互；而后端则专注于提供 API 接口。</p>
	<br />
	<p>在这样的结构下,REST 是一个很流行的<strong class="red">前后端交互形式的约定。</strong></p>
</div>
<hr>
<div>
	<h2>REST</h2>
	<br />
	<p><strong class="red">RE</strong>presentational <strong class="red">S</strong>tate <strong class="red">T</strong>ransfer,表现层状态转化</p>
	<br />
	<p>在RESTful架构中,每个网址代表一种资源,所以网址中不能有动词,只能有名词,而且所用的名词往往与数据库的表格名对应。</p>
	<br />
</div>
<hr>
<div>
	<h2>HTTP动词</h2>
	<br />
	<ul>
		<li>GET(SELECT):取出资源</li>
		<li>POST(CREATE):新建一个资源</li>
		<li>PUT(UPDATE):更新资源(提供改变后的完整资源)</li>
		<li>PATCH(UPDATE):更新资源(提供改变的属性)</li>
		<li>DELETE(DELETE):删除资源</li>
	</ul>
	<br />
	<ul>
		<li>HEAD:获取资源的元数据</li>
		<li>OPTIONS:获取信息,关于资源的哪些属性是客户端可以改变的</li>
	</ul>
	<br />
</div>
<hr>
<div>
	<h2>Examples 1</h2>
	<br />
	<blockquote>
		<pre>
{
'account': '/api/accounts',
'publisher': '/api/publishers',
'country': '/api/countries',
'region': '/api/regions',
'businessLead': '/api/business_leads',
}
		</pre>
	</blockquote>
	<br />
</div>
<hr>
<div>
	<h2>RESTful接口实例</h2>
	<br />
	<p><a href="http://localhost:8080/" target="_blank">CRM</a></p>
</div>
<hr>
<div>
	<h2>What is GraphQL?</h2>
	<br/>
	<p>GraphQL是一种<strong class="red">API查询语言</strong>，是由Facebook创建并最终开源的</p>
	<br>
	<p>GraphQL是一个runtime，可以认为它是一个运行在服务器上的可以理解和响应使用GraphQL语言的请求应用程序，类似一个服务端的GraphQL翻译</p>
</div>
<hr>
<div>
	<h2>GraphQL接口参数</h2>
	<blockquote>
	<pre>
{
user(id: 2) {
	firstName
	lastName
	email
}
}
	</pre>
	</blockquote>
	<br>
	<h2>返回结果</h2>
	<blockquote>
	<pre>
"data": {
	"user": {
		"firstName": "John",
		"lastName": "Doe",
		"email": "john@example.com"
	}
}

	</pre>
	</blockquote>
	<a href="http://localhost:3000/graphql?query={user(id:%222%22){name,email}}" target="_blank">GranpQL请求</a>
	<br>
	<br>
</div>
<hr>
<div>
	<h2>REST</h2>
	<img src="https://sfault-image.b0.upaiyun.com/343/444/3434449435-596f483fecac2_articlex" style="width: 100%;">
</div>
<hr>
<div>
	<h2>GraphQL</h2>
	<img src="https://sfault-image.b0.upaiyun.com/242/634/2426349484-596f4a1fa1ce6_articlex" style="width: 100%">
</div>
<hr>
<div>
	<div class="half">
		<h2 style="margin-bottom:20px;text-align:center;">REST</h2>
		<ul>
			<li>充分利用HTTP缓存</li>
			<br>
			<li class="weak">不能精准的获取数据</li>

		</ul>
	</div>
	<div class="half">
		<h2 style="margin-bottom:20px;text-align: center">GraphQL</h2>
		<ul>
			<li>所见即所得(Schema)</li>
			<li>精准的获取数据</li>
			<br>
			<li class="weak">不能充分利用HTTP动词</li>
			<li class="weak">需要服务器端实现缓存机制</li>
		</ul>
	</div>
</div>
<hr>
<div style="font-size:24px">
	<h2>参考:</h2>
	<br />
	<p>【1】<a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank">理解RESTful架构</a> </p>
	<p>【2】<a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank">RESTful API 设计指南</a></p>
	<p>【3】<a href="https://zhuanlan.zhihu.com/p/28674721" target="_blank">RESTful 接口实现简明指南</a> </p>
	<p>【4】<a href="https://zhuanlan.zhihu.com/p/23647589" target="_blank">GraphQL，你准备好了么？</a> </p>
	<p>【5】<a href="http://www.jianshu.com/p/6721b66c5ac8" target="_blank">学习GraphQL — 简介</a></p>
	<p>【6】<a href="https://zhuanlan.zhihu.com/p/28674721" target="_blank">RESTful 接口实现简明指南</a> </p>
	<p>【7】<a href="https://segmentfault.com/a/1190000005766732" target="_blank">GraphQL初探:从REST到GraphQL，更完善的数据查询定义</a> </p>
	<p>【8】<a href="http://www.cnblogs.com/qiangxia/p/5348257.html" target="_blank">Node.js 服务端实践之 GraphQL 初探</a></p>
	<p>【9】<a href="https://segmentfault.com/a/1190000010261889" target="_blank"> 怎样使用GraphQL - 2.GraphQL是更好的REST</a></p>
	<br>
</div>
<hr>

